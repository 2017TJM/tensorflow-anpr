Automatic Number (License) Plate Recognition
============================================

##### mturk.html:
Defines the web interface that will be used by the MTurk workers to label the images.
Modified from [original](https://github.com/kyamagu/bbox-annotator)
Use this html/js code with Amazon mechanical Turk. Instructions [here](https://blog.mturk.com/tutorial-annotating-images-with-bounding-boxes-using-amazon-mechanical-turk-42ab71e5068a)

##### genImageListForAWS.py
Use this module to generate a csv file that can be uploaded to MTurk. You will need the csv file when you
publish a batch of images for processing

##### inspectHITs.py:
Once the batch has been completed by the workers you will need to download the results in csv file format,
and approve or reject each HIT. This application will read the HIT results and overlay the bounding boxes
and labels onto the images. A text box is provided for accepting or rejecting each HIT. Once complete, your
accept/reject response will be added to the downloaded csv file, and the new csv file can be uploaded to MTurk
 
##### csvToPascalXml.py:
Reads the csv file generated by inspectHITs.py, and generates PASCAL VOC style xml annotation files. 
One xml file for each image.

##### build_anpr_records.py:
Reads a group of PASCAL VOC style xml annotation files, and combines with associated images to build a 
TFrecord dataset. Requires a predefined label map file that maps labels to integers

##### Train the object_detection model
Now you can use tensorflow/models/research/object_detection to train the model
It goes something like this. Assuming python virtualenv called tensorflow, 
a single GPU for training and CPU for eval:

cd tensorflow/models/research/object_detection

###### Training
workon tensoflow  
python train.py --logtostderr --pipeline_config_path ../anpr/experiment_faster_rcnn/training/faster_rcnn_anpr.config --train_dir ../anpr/experiment_faster_rcnn/training  

###### Eval
If you are running the eval on CPU, then limit the number of images to evaluate by modifing your config file:  
130 eval_config: {  
131 num_examples: 5  

New terminal  
workon tensoflow  
export CUDA_VISIBLE_DEVICES=""  
python eval.py --logtostderr --checkpoint_dir ../anpr/experiment_faster_rcnn/training --pipeline_config_path ../anpr/experiment_faster_rcnn/training/faster_rcnn_anpr.config --eval_dir ../anpr/experiment_faster_rcnn/evaluation  

cd tensorflow/models/research  
workon tensoflow  
tensorboard --logdir anpr/experiment_faster_rcnn  
